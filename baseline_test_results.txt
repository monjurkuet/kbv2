============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /home/muham/development/kbv2/.venv/bin/python
cachedir: .pytest_cache
rootdir: /home/muham/development/kbv2
configfile: pyproject.toml
plugins: logfire-4.22.0, cov-7.0.0, anyio-4.12.1, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 950 items

tests/integration/test_enhanced_pipeline.py::TestEnhancedGatewayIntegration::test_cot_extraction_integration PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestEnhancedGatewayIntegration::test_cod_extraction_integration PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestEnhancedGatewayIntegration::test_structured_extraction_integration PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestEnhancedGatewayIntegration::test_few_shot_extraction_integration PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestMultiAgentExtractionIntegration::test_full_extraction_pipeline PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestMultiAgentExtractionIntegration::test_quality_score_calculation PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestMultiAgentExtractionIntegration::test_perception_agent_extraction PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestMultiAgentExtractionIntegration::test_enhancement_agent_entity_refinement PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestMultiAgentExtractionIntegration::test_evaluation_agent_quality_assessment PASSED [  0%]
tests/integration/test_enhanced_pipeline.py::TestHallucinationDetectionIntegration::test_auto_approval_high_confidence PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestHallucinationDetectionIntegration::test_auto_rejection_low_confidence PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestHallucinationDetectionIntegration::test_priority_calculation PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestHallucinationDetectionIntegration::test_attribute_verification_statuses PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestHallucinationDetectionIntegration::test_risk_level_calculation PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestFederatedQueryIntegration::test_domain_detection PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestFederatedQueryIntegration::test_parallel_execution PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestFederatedQueryIntegration::test_sequential_execution PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestFederatedQueryIntegration::test_query_plan_creation PASSED [  1%]
tests/integration/test_enhanced_pipeline.py::TestFederatedQueryIntegration::test_result_aggregation PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestFederatedQueryIntegration::test_domain_specific_templates PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestHybridSearchIntegration::test_combined_retrieval PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestHybridSearchIntegration::test_weight_adjustment PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestHybridSearchIntegration::test_retrieved_entity_scoring PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestHybridSearchIntegration::test_graph_expansion PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestHybridSearchIntegration::test_invalid_weight_validation PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_schema_initialization PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_schema_inheritance PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_entity_type_definition PASSED [  2%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_domain_level_hierarchy PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_inheritance_type_options PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_schema_validation_modes PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestDomainSchemaIntegration::test_domain_attribute_definition PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestIntegrationFixtures::test_mock_llm_response_structure PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestIntegrationFixtures::test_sample_document_fixture PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestIntegrationFixtures::test_sample_chunk_fixture PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestIntegrationFixtures::test_sample_entities_fixture PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestComponentIntegration::test_extraction_to_verification_pipeline PASSED [  3%]
tests/integration/test_enhanced_pipeline.py::TestComponentIntegration::test_query_to_retrieval_pipeline PASSED [  4%]
tests/integration/test_enhanced_pipeline.py::TestComponentIntegration::test_schema_driven_extraction PASSED [  4%]
tests/integration/test_enhanced_pipeline.py::TestErrorHandlingIntegration::test_graceful_llm_failure PASSED [  4%]
tests/integration/test_enhanced_pipeline.py::TestErrorHandlingIntegration::test_empty_query_handling PASSED [  4%]
tests/integration/test_enhanced_pipeline.py::TestErrorHandlingIntegration::test_malformed_llm_response PASSED [  4%]
tests/integration/test_enhanced_pipeline.py::TestAPIIntegration::test_health_endpoint PASSED [  4%]
tests/integration/test_enhanced_pipeline.py::TestAPIIntegration::test_api_version_endpoint PASSED [  4%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_complex_natural_language_queries_sql FAILED [  4%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_mcp_protocol_concurrent_requests FAILED [  4%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_entity_resolution_deduplication_complex FAILED [  4%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_performance_load_multiple_operations FAILED [  5%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_temporal_knowledge_graph_features FAILED [  5%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_domain_tagging_complex_relationships FAILED [  5%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_resilient_gateway_under_stress FAILED [  5%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_end_to_end_knowledge_ingestion_query_cycle FAILED [  5%]
tests/integration/test_real_world_pipeline.py::TestRealWorldKBV2System::test_entity_mention_duplication_handling FAILED [  5%]
tests/integration/test_rotation_integration.py::test_resilient_gateway_rotates_on_429 FAILED [  5%]
tests/integration/test_rotation_integration.py::test_resilient_gateway_retries_429_with_exponential_backoff FAILED [  5%]
tests/integration/test_rotation_integration.py::test_model_rotation_manager_rotates_on_error PASSED [  5%]
tests/unit/test_api/test_document_api.py::TestGetDocument::test_get_document_success PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestGetDocument::test_get_document_not_found PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestGetDocumentContent::test_get_document_content_success PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestGetDocumentContent::test_get_document_content_not_found PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestGetDocumentContent::test_get_document_content_no_chunks PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestGetDocumentSpans::test_get_document_spans_success PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestGetDocumentSpans::test_get_document_spans_empty PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestSearchDocuments::test_search_documents_success PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestSearchDocuments::test_search_documents_vector_only PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestSearchDocuments::test_search_documents_keyword_only PASSED [  6%]
tests/unit/test_api/test_document_api.py::TestCreateAnnotation::test_create_annotation_success PASSED [  7%]
tests/unit/test_api/test_document_api.py::TestCreateAnnotation::test_create_annotation_invalid_structure PASSED [  7%]
tests/unit/test_api/test_document_api.py::TestCreateAnnotation::test_create_annotation_document_not_found PASSED [  7%]
tests/unit/test_api/test_document_api.py::TestDocumentAPIIntegration::test_api_routes_exist PASSED [  7%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_get_graph_summary_success PASSED [  7%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_get_graph_summary_empty PASSED [  7%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_get_neighborhood_success PASSED [  7%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_get_neighborhood_empty PASSED [  7%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_get_neighborhood_directions PASSED [  7%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_find_path_shortest PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_find_path_all_simple PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_find_path_same_node PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_export_graph PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_graph_node_model PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_graph_edge_model PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_path_finding_request_model PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_invalid_algorithm_rejection PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_path_response_structure PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_serialization_format PASSED [  8%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_error_handling_propagation PASSED [  9%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_edge_cases_large_graph PASSED [  9%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_graphology_export_format PASSED [  9%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_community_hierarchy_levels PASSED [  9%]
tests/unit/test_api/test_graph_api.py::TestGraphAPI::test_filtering_by_entity_type PASSED [  9%]
tests/unit/test_api/test_graph_api.py::TestGraphAPIMockingPatterns::test_mock_with_patches PASSED [  9%]
tests/unit/test_api/test_graph_api.py::TestGraphAPIMockingPatterns::test_sigma_js_compatibility PASSED [  9%]
tests/unit/test_api/test_query_api.py::test_translate_valid_query PASSED [  9%]
tests/unit/test_api/test_query_api.py::test_translate_invalid_query PASSED [  9%]
tests/unit/test_api/test_query_api.py::test_translate_empty_query PASSED [ 10%]
tests/unit/test_api/test_query_api.py::test_execute_valid_query PASSED   [ 10%]
tests/unit/test_api/test_query_api.py::test_execute_query_with_error PASSED [ 10%]
tests/unit/test_api/test_query_api.py::test_get_schema_success PASSED    [ 10%]
tests/unit/test_api/test_query_api.py::test_get_schema_empty PASSED      [ 10%]
tests/unit/test_api/test_query_api.py::test_query_with_special_characters PASSED [ 10%]
tests/unit/test_api/test_query_api.py::test_complex_query_with_joins PASSED [ 10%]
tests/unit/test_api/test_review_api.py::test_get_pending_reviews_success PASSED [ 10%]
tests/unit/test_api/test_review_api.py::test_get_pending_reviews_with_pagination PASSED [ 10%]
tests/unit/test_api/test_review_api.py::test_get_pending_reviews_empty PASSED [ 10%]
tests/unit/test_api/test_review_api.py::test_get_review_by_id_success PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_get_review_by_id_not_found PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_approve_review_success PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_approve_review_not_found PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_approve_review_without_notes PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_reject_review_success PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_reject_review_not_found PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_reject_review_minimal_corrections PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_review_end_to_end_workflow PASSED [ 11%]
tests/unit/test_api/test_review_api.py::test_filter_reviews_by_priority PASSED [ 12%]
tests/unit/test_api/test_review_api.py::test_search_in_review_queue PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestSearchMode::test_enum_values PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchRequest::test_default_values PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchRequest::test_custom_values PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchRequest::test_validation_top_k_range PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchRequest::test_validation_weight_sum FAILED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchResponse::test_response_structure PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_health_endpoint FAILED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_modes_endpoint PASSED [ 12%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_request_validation PASSED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_hybrid_mode PASSED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_vector_mode FAILED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_bm25_mode FAILED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_reranked_mode PASSED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_with_filters FAILED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_with_weights PASSED [ 13%]
tests/unit/test_api/test_unified_search_api.py::TestUnifiedSearchAPI::test_search_response_timing PASSED [ 13%]
tests/unit/test_cross_domain_detector.py::TestRelationshipType::test_relationship_type_values PASSED [ 13%]
tests/unit/test_cross_domain_detector.py::TestRelationshipType::test_relationship_type_completeness PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestRelationshipType::test_relationship_type_from_string PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestDomainType::test_domain_type_values PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestDomainType::test_domain_type_entity_domains PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainRelationship::test_create_relationship PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainRelationship::test_relationship_with_metadata PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainRelationship::test_relationship_confidence_bounds PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetectorConfig::test_default_config PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetectorConfig::test_custom_config PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetector::test_init_default_config PASSED [ 14%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetector::test_init_custom_config PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetector::test_init_with_graph_store PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetector::test_is_cross_domain_same_domain PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetector::test_is_cross_domain_different_domains PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestCrossDomainDetector::test_is_cross_domain_default_domain PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestTaxonomyManagement::test_get_taxonomy_existing_pair PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestTaxonomyManagement::test_get_taxonomy_nonexistent_pair PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestTaxonomyManagement::test_register_custom_taxonomy PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestTaxonomyManagement::test_get_valid_relationship_types_existing PASSED [ 15%]
tests/unit/test_cross_domain_detector.py::TestTaxonomyManagement::test_get_valid_relationship_types_nonexistent PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestPatternManagement::test_register_pattern PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_no_entities PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_same_domain_entities PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_cross_domain_relationships PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_multiple_entities PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_with_min_confidence PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_with_max_relationships PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectRelationships::test_detect_with_evidence PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectEntityRelationships::test_detect_from_source PASSED [ 16%]
tests/unit/test_cross_domain_detector.py::TestDetectEntityRelationships::test_detect_from_source_filtered PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestConfidenceScoring::test_confidence_with_evidence PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestConfidenceScoring::test_confidence_bounds PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestConfidenceScoring::test_confidence_default_taxonomy PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestBidirectionalInference::test_bidirectional_inference_enabled PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestBidirectionalInference::test_bidirectional_inference_disabled PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestFiltering::test_filter_by_confidence PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestFiltering::test_filter_by_relationship_types PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestFiltering::test_filter_by_domains PASSED [ 17%]
tests/unit/test_cross_domain_detector.py::TestFiltering::test_combined_filters PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestStatistics::test_empty_statistics PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestStatistics::test_statistics_computation PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestStatistics::test_domain_pair_statistics PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_entities_without_ids PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_entities_without_domains PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_single_entity_list PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_entities_with_special_characters PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_entities_with_unicode_names PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_very_long_entity_names PASSED [ 18%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_evidence_with_empty_list PASSED [ 19%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_entities_with_properties PASSED [ 19%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_confidence_threshold_at_boundary PASSED [ 19%]
tests/unit/test_cross_domain_detector.py::TestEdgeCases::test_duplicate_entities PASSED [ 19%]
tests/unit/test_domain/test_detection.py::TestDomainModels::test_domain_enum PASSED [ 19%]
tests/unit/test_domain/test_detection.py::TestDomainModels::test_domain_prediction PASSED [ 19%]
tests/unit/test_domain/test_detection.py::TestDomainModels::test_domain_prediction_confidence_bounds PASSED [ 19%]
tests/unit/test_domain/test_detection.py::TestDomainModels::test_domain_detection_result PASSED [ 19%]
tests/unit/test_domain/test_detection.py::TestDomainModels::test_domain_config PASSED [ 19%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_technology_detection FAILED [ 20%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_financial_detection PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_medical_detection PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_empty_text PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_whitespace_only_text PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_no_keyword_matches PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestKeywordScreening::test_keyword_normalization PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestDomainDetection::test_single_domain_detection PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestDomainDetection::test_multi_domain_detection PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestDomainDetection::test_empty_document PASSED [ 20%]
tests/unit/test_domain/test_detection.py::TestDomainDetection::test_whitespace_document PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestDomainDetection::test_processing_time_recorded PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestDomainDetection::test_confidence_threshold_applied PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestConfidenceCalibration::test_keyword_confidence_normalization PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestConfidenceCalibration::test_multiple_domain_ranking PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestDomainConfig::test_default_config PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestDomainConfig::test_custom_config PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestDomainConfig::test_config_with_detector PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestEdgeCases::test_very_long_text PASSED [ 21%]
tests/unit/test_domain/test_detection.py::TestEdgeCases::test_special_characters_in_text PASSED [ 22%]
tests/unit/test_domain/test_detection.py::TestEdgeCases::test_unicode_characters PASSED [ 22%]
tests/unit/test_domain/test_detection.py::TestEdgeCases::test_mixed_case_keywords PASSED [ 22%]
tests/unit/test_domain/test_detection.py::TestEdgeCases::test_contribution_capping PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestDomainAttribute::test_create_attribute PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestDomainAttribute::test_attribute_with_validation_rules PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestDomainAttribute::test_default_domain_specific PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestEntityTypeDef::test_create_entity_type_def PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestEntityTypeDef::test_entity_type_with_parent PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestEntityTypeDef::test_get_attribute PASSED [ 22%]
tests/unit/test_domain_schema_service.py::TestEntityTypeDef::test_get_missing_attribute PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestEntityTypeDef::test_entity_type_with_attributes PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaModel::test_create_domain_schema_model PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaModel::test_schema_with_entity_types PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaCreate::test_create_schema_creation_model PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaCreate::test_create_with_entity_types PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_init PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_register_schema PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_get_by_name_found PASSED [ 23%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_get_by_name_not_found PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_list_schemas PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_update_schema PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_delete_schema_found PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_delete_schema_not_found PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistry::test_clear_cache PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestDomainLevel::test_domain_level_values PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestInheritanceType::test_inheritance_type_values PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaValidationMode::test_validation_mode_values PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaInheritance::test_entity_type_inheritance_chain PASSED [ 24%]
tests/unit/test_domain_schema_service.py::TestSchemaInheritance::test_combined_attributes PASSED [ 25%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaEdgeCases::test_entity_type_def_without_attributes PASSED [ 25%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaEdgeCases::test_schema_create_with_defaults PASSED [ 25%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaEdgeCases::test_domain_attribute_complex_types PASSED [ 25%]
tests/unit/test_domain_schema_service.py::TestDomainSchemaEdgeCases::test_entity_type_with_metadata PASSED [ 25%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistryCache::test_cache_hit_after_get PASSED [ 25%]
tests/unit/test_domain_schema_service.py::TestSchemaRegistryCache::test_cache_cleared_on_delete PASSED [ 25%]
tests/unit/test_enhanced_gateway.py::TestEnhancedGateway::test_extract_with_reasoning PASSED [ 25%]
tests/unit/test_enhanced_gateway.py::TestEnhancedGateway::test_extract_with_cod PASSED [ 25%]
tests/unit/test_enhanced_gateway.py::TestEnhancedGateway::test_extract_structured PASSED [ 26%]
tests/unit/test_enhanced_gateway.py::TestEnhancedGateway::test_extract_few_shot PASSED [ 26%]
tests/unit/test_enhanced_gateway.py::TestEnhancedGateway::test_backward_compatibility PASSED [ 26%]
tests/unit/test_enhanced_gateway.py::TestEnhancedGateway::test_lazy_llm_client_creation PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestEntityType::test_entity_type_values PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestEntityType::test_entity_type_from_string PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestDomainType::test_domain_type_values PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestEntityTypingConfig::test_default_config PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestEntityTypingConfig::test_custom_config PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestEntityTypingResult::test_create_result PASSED [ 26%]
tests/unit/test_entity_typing_service.py::TestEntityTypingResult::test_result_with_alternatives PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestEntityTypingResult::test_low_confidence_review_flag PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestTypedEntity::test_create_typed_entity PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestTypedEntity::test_minimal_typed_entity PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestFewShotExample::test_create_example PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestPromptTemplate::test_format_user_prompt PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestPromptTemplate::test_format_with_examples PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestPromptTemplateRegistry::test_get_default_template PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestPromptTemplateRegistry::test_get_domain_template PASSED [ 27%]
tests/unit/test_entity_typing_service.py::TestPromptTemplateRegistry::test_get_custom_named_template PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestFewShotExampleBank::test_get_general_examples PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestFewShotExampleBank::test_get_type_specific_examples PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestFewShotExampleBank::test_get_domain_examples PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestFewShotExampleBank::test_add_example PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_init PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_init_with_config PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_type_single_entity PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_type_entities_batch PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_empty_batch PASSED [ 28%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_add_few_shot_example PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_low_confidence_review_flag PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_parse_invalid_json PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyper::test_parse_valid_json_with_alternatives PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyperIntegration::test_type_person_entity PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyperIntegration::test_type_organization_entity PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyperIntegration::test_type_location_entity PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyperIntegration::test_type_event_entity PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyperIntegration::test_type_concept_entity PASSED [ 29%]
tests/unit/test_entity_typing_service.py::TestEntityTyperIntegration::test_ambiguous_entity_typing PASSED [ 30%]
tests/unit/test_entrypoint.py::test_exported_main FAILED                 [ 30%]
tests/unit/test_entrypoint.py::test_docstring_style FAILED               [ 30%]
tests/unit/test_error_handlers.py::TestCreateAPIError::test_create_api_error_standard_codes PASSED [ 30%]
tests/unit/test_error_handlers.py::TestCreateAPIError::test_create_api_error_custom_code PASSED [ 30%]
tests/unit/test_error_handlers.py::TestCreateAPIError::test_create_api_error_unknown_status PASSED [ 30%]
tests/unit/test_error_handlers.py::TestCreateAPIError::test_all_status_code_mappings PASSED [ 30%]
tests/unit/test_error_handlers.py::TestValidationExceptionHandler::test_validation_handler_structure PASSED [ 30%]
tests/unit/test_error_handlers.py::TestValidationExceptionHandler::test_validation_handler_field_errors PASSED [ 30%]
tests/unit/test_error_handlers.py::TestValidationExceptionHandler::test_validation_handler_metadata PASSED [ 30%]
tests/unit/test_error_handlers.py::TestHTTPExceptionHandler::test_http_exception_404 PASSED [ 31%]
tests/unit/test_error_handlers.py::TestHTTPExceptionHandler::test_http_exception_403 PASSED [ 31%]
tests/unit/test_error_handlers.py::TestHTTPExceptionHandler::test_http_exception_500 PASSED [ 31%]
tests/unit/test_error_handlers.py::TestGeneralExceptionHandler::test_general_exception_unknown PASSED [ 31%]
tests/unit/test_error_handlers.py::TestGeneralExceptionHandler::test_general_exception_value_error PASSED [ 31%]
tests/unit/test_error_handlers.py::TestGeneralExceptionHandler::test_general_exception_no_message PASSED [ 31%]
tests/unit/test_error_handlers.py::TestResourceNotFoundHandler::test_resource_not_found_handler PASSED [ 31%]
tests/unit/test_error_handlers.py::TestAIP193Compliance::test_error_response_structure PASSED [ 31%]
tests/unit/test_error_handlers.py::TestAIP193Compliance::test_all_error_handlers_use_200_status PASSED [ 31%]
tests/unit/test_error_handlers.py::test_setup_exception_handlers PASSED  [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestExtractionPrompt::test_prompt_creation PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestExtractionPrompt::test_prompt_json_serialization PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestExtractionPrompts::test_prompts_creation PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestExtractionPrompts::test_prompts_user_goals_flag PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_initialization PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_initialization_with_custom_registry PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_generate_extraction_prompts_auto_mode PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_generate_extraction_prompts_user_mode PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_auto_mode_detects_domain_from_content PASSED [ 32%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_user_mode_interprets_matching_goals PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_user_mode_fallback_to_defaults_on_no_match PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_auto_mode_returns_prioritized_prompts PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_build_system_prompt_includes_domain PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_build_system_prompt_includes_examples PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_build_user_prompt_includes_document_text PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_build_user_prompt_includes_previous_entities PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_build_extraction_schema PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_detect_domain_technology PASSED [ 33%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_detect_domain_financial PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_detect_domain_medical PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_detect_domain_general_for_unknown PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_extract_with_prompts_executes_all_prompts PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_parse_extraction_result PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_parse_extraction_result_handles_invalid_json PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractor::test_parse_extraction_result_handles_markdown_code_blocks PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorAutoMode::test_auto_mode_uses_domain_defaults PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorAutoMode::test_auto_mode_falls_back_to_general_for_unknown_domain PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorAutoMode::test_auto_mode_does_not_require_domain_parameter PASSED [ 34%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorUserMode::test_user_mode_uses_user_goals PASSED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorUserMode::test_user_mode_matches_exact_goal_name FAILED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorUserMode::test_user_mode_creates_general_prompt_for_unmatched PASSED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestGuidedExtractorUserMode::test_user_mode_multiple_goals PASSED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestBackwardCompatibility::test_extractor_works_without_template_registry PASSED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestBackwardCompatibility::test_prompts_model_backward_compatible PASSED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestBackwardCompatibility::test_extract_without_user_goals_uses_auto_mode PASSED [ 35%]
tests/unit/test_extraction/test_guided_extractor.py::TestBackwardCompatibility::test_extract_with_empty_user_goals_uses_auto_mode FAILED [ 35%]
tests/unit/test_extraction/test_template_registry.py::TestExtractionGoal::test_goal_creation_with_all_fields PASSED [ 35%]
tests/unit/test_extraction/test_template_registry.py::TestExtractionGoal::test_goal_creation_with_minimal_fields PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestExtractionGoal::test_goal_priority_validation PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestExtractionGoal::test_goal_json_serialization PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_for_technology_domain PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_for_financial_domain PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_for_medical_domain PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_for_legal_domain PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_for_scientific_domain PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_for_general_domain PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_case_insensitive PASSED [ 36%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goals_unknown_domain_defaults_to_general PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goal_by_name_exists PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_goal_by_name_not_exists PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_get_prioritized_goals_sorted PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_registry_contains_all_domains PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_technology_goals_have_correct_entities PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_financial_goals_have_correct_entities PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestTemplateRegistry::test_medical_goals_have_correct_entities PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestGetDefaultGoals::test_get_default_goals_returns_list PASSED [ 37%]
tests/unit/test_extraction/test_template_registry.py::TestGetDefaultGoals::test_get_default_goals_technology PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestGetDefaultGoals::test_get_default_goals_financial PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestGetDefaultGoals::test_get_default_goals_unknown PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestDefaultGoalsStructure::test_default_goals_has_all_domains PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestDefaultGoalsStructure::test_each_domain_has_goals PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestDefaultGoalsStructure::test_each_goal_has_required_fields PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestDefaultGoalsStructure::test_goal_names_are_unique_within_domain PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestBackwardCompatibility::test_template_registry_default_goals_not_empty PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestBackwardCompatibility::test_extraction_goal_model_compatible PASSED [ 38%]
tests/unit/test_extraction/test_template_registry.py::TestBackwardCompatibility::test_get_default_goals_works_for_all_domains PASSED [ 38%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_technical_domain PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_business_domain PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_documentation_domain PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_research_domain PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_analytics_domain PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_no_keywords_returns_default PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_max_domains_limit PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_sorted_by_confidence PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestDomainDetector::test_detect_keywords_tracked PASSED [ 39%]
tests/unit/test_federated_query_router.py::TestSubQueryBuilder::test_build_subqueries_for_domain PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestSubQueryBuilder::test_build_subqueries_with_context PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestSubQueryBuilder::test_build_different_domains PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestSubQueryBuilder::test_add_custom_template PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestSubQueryBuilder::test_default_template_fallback PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestResultAggregator::test_merge_results PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestResultAggregator::test_deduplicate_results PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestResultAggregator::test_union_aggregates_all PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestResultAggregator::test_confidence_ranking PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestResultAggregator::test_empty_results PASSED [ 40%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_create_plan_basic PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_create_plan_with_domains PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_create_plan_with_strategy PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_execute_plan_parallel PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_execute_plan_sequential PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_execute_with_retriever PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_aggregate_results PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_route_and_execute PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestFederatedQueryRouter::test_route_and_execute_with_strategy PASSED [ 41%]
tests/unit/test_federated_query_router.py::TestSubQuery::test_subquery_creation PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestSubQuery::test_subquery_defaults PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestFederatedQueryPlan::test_plan_creation PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestFederatedQueryResult::test_add_domain_results PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestFederatedQueryResult::test_add_domain_error PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestFederatedQueryResult::test_get_combined_results PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestExecutionStrategy::test_execution_strategies_exist PASSED [ 42%]
tests/unit/test_federated_query_router.py::TestQueryDomain::test_all_domains_defined PASSED [ 42%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetectorConfig::test_default_config PASSED [ 42%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetectorConfig::test_custom_config PASSED [ 42%]
tests/unit/test_hallucination_detector.py::TestAttributeVerification::test_create_supported_attribute PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestAttributeVerification::test_create_unsupported_attribute PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestAttributeVerification::test_create_inconclusive_attribute PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestEntityVerification::test_create_entity_verification PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestEntityVerification::test_supported_ratio_empty PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestEntityVerification::test_hallucination_detection PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_attribute_supported PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_attribute_unsupported PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_attribute_inconclusive PASSED [ 43%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_attribute_error_handling PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_calculate_risk_level_low PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_calculate_risk_level_medium PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_calculate_risk_level_high PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_calculate_risk_level_critical PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_entity PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_entity_mixed_results PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_entity_batch PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_verify_claim PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_compare_entities PASSED [ 44%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_get_verification_summary PASSED [ 45%]
tests/unit/test_hallucination_detector.py::TestHallucinationDetector::test_get_verification_summary_empty PASSED [ 45%]
tests/unit/test_hallucination_detector.py::TestVerificationStatus::test_status_values PASSED [ 45%]
tests/unit/test_hallucination_detector.py::TestRiskLevel::test_risk_levels PASSED [ 45%]
tests/unit/test_hallucination_detector.py::TestRiskLevel::test_risk_level_values PASSED [ 45%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_init_with_valid_weights PASSED [ 45%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_init_with_invalid_weights PASSED [ 45%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_retrieve_vector_only PASSED [ 45%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_retrieve_with_graph_expansion PASSED [ 45%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_retrieve_with_domain_filter PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_retrieve_scores_combined_correctly PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_retrieve_empty_results PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetriever::test_retrieve_respects_limits PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestRetrievedEntity::test_retrieved_entity_defaults PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestRetrievedEntity::test_retrieved_entity_graph_source PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestHybridRetrievalResult::test_result_defaults PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestHybridRetrievalResult::test_result_with_entities PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestGraphEntity::test_graph_entity_creation PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestGraphEntity::test_graph_entity_hops_calculation PASSED [ 46%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_retrieve_handles_graph_store_error PASSED [ 47%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_retrieve_handles_missing_properties PASSED [ 47%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_retrieve_entity_type_filtering PASSED [ 47%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_retrieve_calculates_total_hops PASSED [ 47%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_entities_ranked_by_final_score PASSED [ 47%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_retrieve_uses_min_confidence_threshold PASSED [ 47%]
tests/unit/test_hybrid_retriever.py::TestHybridEntityRetrieverEdgeCases::test_default_weights PASSED [ 47%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingConfigs::test_default_config PASSED [ 47%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingConfigs::test_high_dimension_config FAILED [ 47%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingConfigs::test_optimized_config FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_texts_empty_list PASSED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_texts_single_text FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_texts_multiple_texts FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_texts_with_custom_dimensions FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_texts_no_truncation FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_texts_batch_processing FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_get_embedding_info PASSED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_truncate_embeddings FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_truncate_embeddings_no_op FAILED [ 48%]
tests/unit/test_ingestion/test_embedding_client.py::TestEmbeddingClient::test_embed_batch_with_extra_params FAILED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedTable::test_table_creation_with_all_fields PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedTable::test_table_creation_without_page_number PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedTable::test_table_creation_with_empty_description PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedTable::test_table_markdown_format_validation PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedTable::test_table_json_serialization PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedImage::test_image_creation_with_all_fields PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedImage::test_image_creation_without_page_number PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedImage::test_image_with_multiline_text PASSED [ 49%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedImage::test_image_json_serialization PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_bar_chart_creation PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_line_graph_creation PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_pie_chart_creation PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_diagram_creation PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_flowchart_creation PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_figure_with_empty_data_points PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractedFigure::test_figure_json_serialization PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractionResult::test_extraction_result_with_all_fields PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractionResult::test_extraction_result_empty_multi_modal_fields PASSED [ 50%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractionResult::test_extraction_result_default_values PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestExtractionResult::test_extraction_result_json_schema PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_discovery_prompt_contains_table_instruction PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_discovery_prompt_contains_image_instruction PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_discovery_prompt_contains_figure_instruction PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_discovery_prompt_json_schema_includes_tables PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_discovery_prompt_json_schema_includes_images PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_discovery_prompt_json_schema_includes_figures PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_get_gleaning_prompt_contains_multi_modal_instruction PASSED [ 51%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_parses_table_from_response FAILED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_parses_image_from_response FAILED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_parses_figure_from_response FAILED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_handles_empty_multi_modal_fields PASSED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_merges_multi_modal_results_from_passes PASSED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_handles_markdown_code_blocks FAILED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_handles_json_parse_error_gracefully PASSED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_extract_handles_missing_fields_gracefully PASSED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestGleaningService::test_merge_results_preserves_multi_modal_content PASSED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestJSONSchemaValidation::test_table_json_schema FAILED [ 52%]
tests/unit/test_ingestion/test_gleaning_service.py::TestJSONSchemaValidation::test_image_json_schema FAILED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestJSONSchemaValidation::test_figure_json_schema PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestJSONSchemaValidation::test_extraction_result_json_schema PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestParsingErrorHandling::test_parse_table_with_missing_fields PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestParsingErrorHandling::test_parse_image_with_missing_fields PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestParsingErrorHandling::test_parse_figure_with_minimal_fields PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestParsingErrorHandling::test_parse_table_with_invalid_content PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestParsingErrorHandling::test_parse_image_with_empty_embedded_text PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestParsingErrorHandling::test_parse_figure_with_complex_data_points PASSED [ 53%]
tests/unit/test_ingestion/test_gleaning_service.py::TestBackwardCompatibility::test_extraction_result_works_without_multi_modal PASSED [ 54%]
tests/unit/test_ingestion/test_gleaning_service.py::TestBackwardCompatibility::test_prompt_backward_compatibility PASSED [ 54%]
tests/unit/test_ingestion/test_gleaning_service.py::TestBackwardCompatibility::test_service_config_backward_compatibility PASSED [ 54%]
tests/unit/test_ingestion_metadata_persistence.py::test_chunk_metadata_persistence PASSED [ 54%]
tests/unit/test_llm_client.py::TestLLMClientConfig::test_default_config_values PASSED [ 54%]
tests/unit/test_llm_client.py::TestLLMClientConfig::test_config_from_env PASSED [ 54%]
tests/unit/test_llm_client.py::TestChatMessage::test_create_user_message PASSED [ 54%]
tests/unit/test_llm_client.py::TestChatMessage::test_create_assistant_message_with_name PASSED [ 54%]
tests/unit/test_llm_client.py::TestChatMessage::test_message_serialization PASSED [ 54%]
tests/unit/test_llm_client.py::TestFewShotExample::test_create_example PASSED [ 54%]
tests/unit/test_llm_client.py::TestLLMClient::test_init_with_config PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_get_headers_no_api_key PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_get_headers_with_api_key PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_build_few_shot_messages PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_build_cot_messages PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_build_cod_messages PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_execute_request PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_standard_strategy PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_few_shot_strategy PASSED [ 55%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_few_shot_without_examples_raises PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_cot_strategy PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_json_mode PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_json_raises_on_invalid_json PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_with_cot_steps PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_with_cod_steps PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_complete_no_choices_raises PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_close_async_client PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClient::test_context_manager PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClientRetryLogic::test_retry_on_server_error PASSED [ 56%]
tests/unit/test_llm_client.py::TestLLMClientRetryLogic::test_no_retry_on_client_error PASSED [ 57%]
tests/unit/test_llm_client.py::TestLLMClientSync::test_complete_sync_standard PASSED [ 57%]
tests/unit/test_llm_client.py::TestLLMClientSync::test_complete_sync_with_few_shot PASSED [ 57%]
tests/unit/test_llm_client.py::TestCreateLLMClient::test_create_client_with_defaults PASSED [ 57%]
tests/unit/test_llm_client.py::TestCreateLLMClient::test_create_client_with_custom_settings PASSED [ 57%]
tests/unit/test_llm_client.py::TestPromptingStrategies::test_all_strategies_work[standard] PASSED [ 57%]
tests/unit/test_llm_client.py::TestPromptingStrategies::test_all_strategies_work[few_shot] PASSED [ 57%]
tests/unit/test_llm_client.py::TestPromptingStrategies::test_all_strategies_work[chain_of_thought] PASSED [ 57%]
tests/unit/test_llm_client.py::TestPromptingStrategies::test_all_strategies_work[chain_of_draft] PASSED [ 57%]
tests/unit/test_multi_agent_extractor.py::TestMultiAgentExtractorConfig::test_default_config_values PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestMultiAgentExtractorConfig::test_custom_config_values PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestEntityCandidate::test_entity_candidate_creation PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestEntityCandidate::test_entity_candidate_with_boundary_type PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractedEntity::test_extracted_entity_creation PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractedEntity::test_extracted_entity_with_properties PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractedEntity::test_extracted_entity_default_id PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractedEntity::test_extracted_entity_phase_transition PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractionQualityScore::test_quality_score_creation PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractionQualityScore::test_quality_score_bounds PASSED [ 58%]
tests/unit/test_multi_agent_extractor.py::TestExtractionQualityScore::test_quality_level_enum PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestExtractionWorkflowState::test_workflow_state_creation PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestExtractionWorkflowState::test_workflow_state_transitions PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementContext::test_enhancement_context_creation PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementContext::test_enhancement_context_with_data PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestPerceptionAgent::test_extract_entities_basic PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestPerceptionAgent::test_extract_entities_with_types PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestPerceptionAgent::test_extract_entities_handles_invalid_json PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestPerceptionAgent::test_extract_entities_handles_empty_chunks PASSED [ 59%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_enhance_entities_basic PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_enhance_entities_empty_list PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_enhance_entities_with_invalid_json PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_should_link_similar_names PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_should_link_different_names PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_calculate_name_similarity_exact PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_calculate_name_similarity_containment PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEnhancementAgent::test_calculate_name_similarity_different PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEvaluationAgent::test_evaluate_extraction_basic PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEvaluationAgent::test_evaluate_extraction_with_invalid_json PASSED [ 60%]
tests/unit/test_multi_agent_extractor.py::TestEvaluationAgent::test_parse_evaluation_response_invalid_level PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestManagerAgent::test_run_extraction_workflow PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestManagerAgent::test_run_workflow_empty_chunks PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestManagerAgent::test_run_workflow_no_entities PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestEntityExtractionManager::test_extract_entities PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestEntityExtractionManager::test_extract_with_evaluation PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestEntityExtractionManager::test_get_extraction_workflow_state PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestExtractionPhase::test_phase_order PASSED [ 61%]
tests/unit/test_multi_agent_extractor.py::TestEntityBoundaryType::test_boundary_types PASSED [ 61%]
tests/unit/test_orchestrator_entity_deduplication.py::test_entity_deduplication_with_duplicate_uris PASSED [ 62%]
tests/unit/test_orchestrator_entity_deduplication.py::test_chunk_entity_linking_only_for_inserted_entities PASSED [ 62%]
tests/unit/test_orchestrator_entity_deduplication.py::test_error_handling_foreign_key_violations PASSED [ 62%]
tests/unit/test_orchestrator_entity_deduplication.py::test_concurrent_entity_insertion PASSED [ 62%]
tests/unit/test_orchestrator_entity_deduplication.py::test_logging_for_skipped_entities PASSED [ 62%]
tests/unit/test_orchestrator_multi_agent.py::TestNewServiceAttributes::test_extraction_manager_attribute_exists PASSED [ 62%]
tests/unit/test_orchestrator_multi_agent.py::TestNewServiceAttributes::test_hallucination_detector_attribute_exists PASSED [ 62%]
tests/unit/test_orchestrator_multi_agent.py::TestNewServiceAttributes::test_cross_domain_detector_attribute_exists PASSED [ 62%]
tests/unit/test_orchestrator_multi_agent.py::TestConvertExtractionToEntities::test_convert_extraction_to_entities_empty PASSED [ 62%]
tests/unit/test_orchestrator_multi_agent.py::TestConvertExtractionToEntities::test_convert_extraction_to_entities_with_data PASSED [ 62%]
tests/unit/test_orchestrator_multi_agent.py::TestConvertExtractionToEntities::test_convert_extraction_creates_uri PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestConvertExtractionToEntities::test_convert_extraction_with_links PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestRouteToReview::test_route_to_review_empty PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestRouteToReview::test_route_to_review_low_risk PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestRouteToReview::test_route_to_review_high_risk PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestRouteToReview::test_route_to_review_critical_risk PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestMultiAgentExtractionMethod::test_method_exists PASSED [ 63%]
tests/unit/test_orchestrator_multi_agent.py::TestEnsureExtractionManager::test_method_exists PASSED [ 63%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningConfig::test_default_config PASSED [ 63%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningConfig::test_custom_config PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitionedChunk::test_chunk_creation PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitionedChunk::test_chunk_with_metadata PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitionedChunk::test_chunk_with_links PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_service_initialization PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_service_initialization_custom_config PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_partition_file_not_found PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_empty_raises_error PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_single_element PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_uses_config_chunk_size PASSED [ 64%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_custom_chunk_size PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_adds_chunk_ids PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_adds_metadata PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_overlap_links FAILED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_chunk_elements_sequential_indices PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_elements_to_text_empty PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_elements_to_text_single_element PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_elements_to_text_multiple_elements PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_elements_to_text_skips_empty_elements PASSED [ 65%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningService::test_partition_and_chunk_method_exists PASSED [ 66%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningConfigIntegration::test_config_from_env PASSED [ 66%]
tests/unit/test_partitioning/test_partitioning_service.py::TestPartitioningConfigIntegration::test_config_validation FAILED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_default_initialization PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_custom_initialization PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_chunk_size_zero PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_chunk_size_negative PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_overlap_ratio_negative PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_overlap_ratio_one PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_min_chunk_size_zero PASSED [ 66%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_min_chunk_size_larger_than_chunk_size PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticChunkerInitialization::test_invalid_max_chunk_size_smaller_than_chunk_size PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestMaxChunkSize::test_default_max_chunk_size PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestMaxChunkSize::test_custom_max_chunk_size PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestTokenCounting::test_empty_text_token_count PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestTokenCounting::test_short_text_token_count PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticBoundaries::test_empty_text_boundaries PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticBoundaries::test_paragraph_boundaries PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSemanticBoundaries::test_heading_boundaries PASSED [ 67%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSplitIntoSentences::test_empty_text_sentences PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSplitIntoSentences::test_single_sentence PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestSplitIntoSentences::test_multiple_sentences FAILED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestMergeSmallChunks::test_no_merging_needed PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestMergeSmallChunks::test_merge_small_chunks PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestMergeSmallChunks::test_empty_chunks_list PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestMergeSmallChunks::test_single_chunk PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkMethod::test_empty_text_raises_error PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkMethod::test_single_chunk_document PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkMethod::test_multiple_chunks PASSED [ 68%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkMethod::test_chunk_token_count PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkMethod::test_chunk_ids_are_unique PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkMethod::test_chunk_indices_are_sequential PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkWithOverlapMethod::test_empty_text_raises_error PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkWithOverlapMethod::test_single_chunk_no_overlap PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkWithOverlapMethod::test_overlap_links_present PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkWithOverlapMethod::test_overlap_ratio_calculation PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkWithOverlapMethod::test_chunk_with_links_contains_valid_chunk PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestEdgeCases::test_whitespace_only_text PASSED [ 69%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestEdgeCases::test_very_long_sentence PASSED [ 70%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestEdgeCases::test_special_characters PASSED [ 70%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestEdgeCases::test_multiline_text PASSED [ 70%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkIdGeneration::test_id_format PASSED [ 70%]
tests/unit/test_partitioning/test_semantic_chunker.py::TestChunkIdGeneration::test_different_indices_different_ids PASSED [ 70%]
tests/unit/test_processing/test_batch_processor.py::TestBatchConfig::test_default_values PASSED [ 70%]
tests/unit/test_processing/test_batch_processor.py::TestBatchConfig::test_custom_values PASSED [ 70%]
tests/unit/test_processing/test_batch_processor.py::TestBatchConfig::test_validation_batch_size PASSED [ 70%]
tests/unit/test_processing/test_batch_processor.py::TestBatchConfig::test_validation_max_workers PASSED [ 70%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_batch_empty ERROR [ 70%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_batch_sync_processor ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_batch_async_processor ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_batch_with_error ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_batch_with_extra_args ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_parallel_empty ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_parallel_sync_processor ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_parallel_preserves_order ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_parallel_with_error ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_with_retry_empty ERROR [ 71%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_with_retry_success ERROR [ 72%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_with_retry_eventual_success ERROR [ 72%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_process_with_retry_max_exceeded ERROR [ 72%]
tests/unit/test_processing/test_batch_processor.py::TestBatchProcessor::test_get_stats ERROR [ 72%]
tests/unit/test_processing/test_batch_processor.py::TestBatchResult::test_default_values PASSED [ 72%]
tests/unit/test_processing/test_batch_processor.py::TestBatchResult::test_with_values PASSED [ 72%]
tests/unit/test_query_api.py::TestExecutionStrategyEnum::test_enum_values PASSED [ 72%]
tests/unit/test_query_api.py::TestFederatedQueryRequest::test_default_values PASSED [ 72%]
tests/unit/test_query_api.py::TestFederatedQueryRequest::test_custom_values PASSED [ 72%]
tests/unit/test_query_api.py::TestFederatedQueryRequest::test_validation_max_domains PASSED [ 72%]
tests/unit/test_query_api.py::TestFederatedQueryRequest::test_validation_min_confidence PASSED [ 73%]
tests/unit/test_query_api.py::TestFederatedQueryResponse::test_response_creation PASSED [ 73%]
tests/unit/test_query_api.py::TestGetQueryServices::test_get_query_services_returns_tuple PASSED [ 73%]
tests/unit/test_query_api.py::TestFederatedQueryEndpoint::test_execute_federated_query_basic PASSED [ 73%]
tests/unit/test_query_api.py::TestFederatedQueryEndpoint::test_execute_federated_query_handles_error PASSED [ 73%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderConfig::test_default_config_values FAILED [ 73%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderConfig::test_custom_config_values FAILED [ 73%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderConfig::test_config_as_pydantic_model FAILED [ 73%]
tests/unit/test_reranking/test_cross_encoder.py::TestRerankedSearchResult::test_reranked_search_result_creation PASSED [ 73%]
tests/unit/test_reranking/test_cross_encoder.py::TestRerankedSearchResult::test_reranked_search_result_defaults PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_reranker_initialization PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_reranker_custom_model PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_reranker_repr PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_initialize_model_not_loaded PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_initialize_loads_model PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_initialize_cached PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_empty_candidates PASSED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_single_candidate FAILED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_multiple_candidates FAILED [ 74%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_respects_top_k FAILED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_score_normalization FAILED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_batch_size FAILED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_with_fusion FAILED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_rerank_with_fusion_no_initial_scores FAILED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_score_pair PASSED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_score_pair_empty_inputs PASSED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_score_batch PASSED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_score_batch_empty_documents PASSED [ 75%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_score_batch_respects_batch_size PASSED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_compute_reranked_score PASSED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_compute_reranked_score_custom_weight PASSED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderReranker::test_shutdown PASSED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderEdgeCases::test_rerank_allows_top_k_minus_one FAILED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderEdgeCases::test_rerank_preserves_metadata FAILED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderEdgeCases::test_rerank_handles_missing_document_id FAILED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderEdgeCases::test_normalize_handles_equal_scores FAILED [ 76%]
tests/unit/test_reranking/test_cross_encoder.py::TestCrossEncoderEdgeCases::test_normalize_handles_empty_list FAILED [ 76%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineConfig::test_default_config_values FAILED [ 76%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineConfig::test_custom_config_values FAILED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankedSearchResultWithExplanation::test_explained_result_creation PASSED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankedSearchResultWithExplanation::test_explained_result_defaults PASSED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_pipeline_initialization PASSED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_pipeline_initialization_with_rrf PASSED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_pipeline_initialization_requires_hybrid PASSED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_pipeline_initialization_requires_cross_encoder PASSED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_returns_hybrid_results_when_disabled FAILED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_calls_hybrid_with_correct_params FAILED [ 77%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_reranks_when_enabled PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_returns_empty_when_no_candidates PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_validates_initial_top_k PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_validates_weights PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipeline::test_search_validates_final_top_k_positive PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineSearchWithExplanation::test_search_with_explanation_returns_explained_results FAILED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineSearchWithExplanation::test_search_with_explanation_initializes_cross_encoder PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineSearchWithRRF::test_search_with_rrf_validates_non_empty_queries PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineSearchWithRRF::test_search_with_rrf_executes_for_each_query PASSED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineHealthCheck::test_health_check_returns_component_status FAILED [ 78%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineHealthCheck::test_health_check_returns_model_when_healthy FAILED [ 79%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineHealthCheck::test_health_check_returns_none_when_not_healthy FAILED [ 79%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineEdgeCases::test_search_handles_candidates_less_than_final_k FAILED [ 79%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineEdgeCases::test_search_logs_info PASSED [ 79%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineEdgeCases::test_pipeline_repr PASSED [ 79%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineEdgeCases::test_generate_explanation_with_high_scores PASSED [ 79%]
tests/unit/test_reranking/test_reranking_pipeline.py::TestRerankingPipelineEdgeCases::test_generate_explanation_with_low_scores PASSED [ 79%]
tests/unit/test_rotation_manager.py::test_model_rotation_manager_creation PASSED [ 79%]
tests/unit/test_rotation_manager.py::test_default_models_ar_ordered_correctly PASSED [ 79%]
tests/unit/test_rotation_manager.py::test_fetch_available_models PASSED  [ 80%]
tests/unit/test_rotation_manager.py::test_model_fallback_on_fetch_failure PASSED [ 80%]
tests/unit/test_rotation_manager.py::test_is_rate_limit_error PASSED     [ 80%]
tests/unit/test_rotation_manager.py::test_get_next_model_rotation PASSED [ 80%]
tests/unit/test_rotation_manager.py::test_extract_content_from_response PASSED [ 80%]
tests/unit/test_rotation_manager.py::test_call_llm_interface_signature PASSED [ 80%]
tests/unit/test_rotation_manager.py::test_create_rotation_manager_factory PASSED [ 80%]
tests/unit/test_schema_api.py::TestSchemaListItem::test_schema_list_item_creation PASSED [ 80%]
tests/unit/test_schema_api.py::TestEntityTypeDefRequest::test_entity_type_def_request_creation PASSED [ 80%]
tests/unit/test_schema_api.py::TestRegisterSchemaRequest::test_register_schema_request_creation PASSED [ 80%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_list_schemas_empty PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_list_schemas_with_data PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_schema_not_found PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_schema_success PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_schema_with_inheritance PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_delete_schema_not_found PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_delete_root_schema PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_delete_root_schema_lowercase PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_entity_types_not_found PASSED [ 81%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_entity_types_success PASSED [ 82%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_specific_entity_type_not_found PASSED [ 82%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_specific_entity_type_success PASSED [ 82%]
tests/unit/test_schema_api.py::TestSchemaEndpoints::test_get_entity_type_with_inheritance_chain PASSED [ 82%]
tests/unit/test_schema_api.py::TestSchemaAPIRouter::test_router_prefix PASSED [ 82%]
tests/unit/test_schema_api.py::TestSchemaAPIRouter::test_router_tags PASSED [ 82%]
tests/unit/test_schema_api.py::TestSchemaAPIRouter::test_endpoints_registered PASSED [ 82%]
tests/unit/test_services/test_resilient_gateway.py::TestCircuitBreaker::test_initial_state PASSED [ 82%]
tests/unit/test_services/test_resilient_gateway.py::TestCircuitBreaker::test_failure_threshold PASSED [ 82%]
tests/unit/test_services/test_resilient_gateway.py::TestCircuitBreaker::test_success_resets_count PASSED [ 82%]
tests/unit/test_services/test_resilient_gateway.py::TestCircuitBreaker::test_recovery_timeout PASSED [ 83%]
tests/unit/test_services/test_resilient_gateway.py::TestCircuitBreaker::test_half_open_success_closes_circuit PASSED [ 83%]
tests/unit/test_services/test_resilient_gateway.py::TestModelDiscoveryService::test_discover_models PASSED [ 83%]
tests/unit/test_services/test_resilient_gateway.py::TestModelDiscoveryService::test_discover_models_error PASSED [ 83%]
tests/unit/test_services/test_resilient_gateway.py::TestResilientGatewayClient::test_chat_completion_success 